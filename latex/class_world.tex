\section{World Class Reference}
\label{class_world}\index{World@{World}}


{\ttfamily \#include $<$World.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ World} (\textbf{ Map} $\ast$map, int num\+Persons, int num\+Antennas, int num\+Mobile\+Phones)
\item 
\textbf{ World} (\textbf{ Map} $\ast$map, const string \&config\+Persons\+File\+Name, const string \&config\+Antennas\+File\+Name, const string \&config\+Simulation\+File\+Name) noexcept(false)
\item 
virtual \textbf{ $\sim$\+World} ()
\item 
void \textbf{ run\+Simulation} (string \&persons\+File, string \&antennas\+File) noexcept(false)
\item 
\textbf{ Agents\+Collection} $\ast$ \textbf{ get\+Agents} () const
\item 
void \textbf{ set\+Agents} (\textbf{ Agents\+Collection} $\ast$agents)
\item 
\textbf{ Clock} $\ast$ \textbf{ get\+Clock} () const
\item 
void \textbf{ set\+Clock} (\textbf{ Clock} $\ast$clock)
\item 
\textbf{ Map} $\ast$ \textbf{ get\+Map} () const
\item 
void \textbf{ set\+Map} (\textbf{ Map} $\ast$map)
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
vector$<$ \textbf{ Person} $\ast$ $>$ \textbf{ generate\+Population} (unsigned long num\+Persons)
\item 
vector$<$ \textbf{ Person} $\ast$ $>$ \textbf{ generate\+Population} (unsigned long num\+Persons, vector$<$ double $>$ params, \textbf{ Person\+::\+Age\+Distributions} age\+\_\+distribution, double male\+\_\+share, double prob\+\_\+mobile\+\_\+phone, double speed\+\_\+walk, double speed\+\_\+car)
\item 
vector$<$ \textbf{ Antenna} $\ast$ $>$ \textbf{ generate\+Antennas} (unsigned long num\+Antennas)
\item 
vector$<$ \textbf{ Antenna} $\ast$ $>$ \textbf{ parse\+Antennas} (const string \&config\+Antennas\+File) noexcept(false)
\item 
vector$<$ \textbf{ Person} $\ast$ $>$ \textbf{ parse\+Persons} (const string \&persons\+File\+Name) noexcept(false)
\item 
vector$<$ \textbf{ Mobile\+Phone} $\ast$ $>$ \textbf{ generate\+Mobile\+Phones} (int num\+Mobile\+Phones, \textbf{ Holdable\+Agent\+::\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+T\+Y\+PE} conn\+Type)
\item 
void \textbf{ parse\+Simulation\+File} (const string \&config\+Simulation\+File\+Name) noexcept(false)
\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\textbf{ Map} $\ast$ \textbf{ m\+\_\+map}
\item 
\textbf{ Agents\+Collection} $\ast$ \textbf{ m\+\_\+agents\+Collection}
\item 
\textbf{ Clock} $\ast$ \textbf{ m\+\_\+clock}
\item 
unsigned long \textbf{ m\+\_\+start\+Time}
\item 
unsigned long \textbf{ m\+\_\+end\+Time}
\item 
unsigned long \textbf{ m\+\_\+time\+Increment}
\item 
\textbf{ Holdable\+Agent\+::\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+T\+Y\+PE} \textbf{ m\+\_\+conn\+Type}
\item 
\textbf{ Movement\+Type} \textbf{ m\+\_\+mv\+Type}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This is the class where all the simulation process takes place. A \doxyref{World}{p.}{class_world} object has a map, a clock, a set of agents than can be persons, mobile phones, antennas etc. After generating all the required objects for simulation the \doxyref{run\+Simulation()}{p.}{class_world_af8d69e177beec5a9cf3c200f292db7db} method is called to perform the actual simulation. The output of the simulation process is written in several files. Each antenna objects output their registered events in a csv file and after the simulation ends, these files are merged in a single file that is used to computed the posterior localization probabilities for each mobile device. These probabilities are computed using a grid that is overlapped on the map, i.\+e. we compute the probability of a mobile phone to be in a tile of the grid. A finer the grid mean more accurate localization. 

Definition at line 35 of file World.\+h.



\subsection{Constructor \& Destructor Documentation}
\mbox{\label{class_world_a94871f094bb3eabb67f5bd1b10396832}} 
\index{World@{World}!World@{World}}
\index{World@{World}!World@{World}}
\subsubsection{World()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily World\+::\+World (\begin{DoxyParamCaption}\item[{\textbf{ Map} $\ast$}]{map,  }\item[{int}]{num\+Persons,  }\item[{int}]{num\+Antennas,  }\item[{int}]{num\+Mobile\+Phones }\end{DoxyParamCaption})}

Builds a new \doxyref{World}{p.}{class_world} object, randomly generating a set of persons, antenna and mobile devices with the default parameters 
\begin{DoxyParams}{Parameters}
{\em map} & a pointer to a \doxyref{Map}{p.}{class_map} object where the simulation takes place \\
\hline
{\em num\+Persons} & the number of persons to be generated \\
\hline
{\em num\+Antennas} & the number of antennas to be generated \\
\hline
{\em num\+Mobile\+Phones} & the number of mobile phones to be generated. These phones are randomly given to persons. \\
\hline
\end{DoxyParams}
\mbox{\label{class_world_a6376bd8ac7c88b8e01e7cca06d9bb18a}} 
\index{World@{World}!World@{World}}
\index{World@{World}!World@{World}}
\subsubsection{World()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily World\+::\+World (\begin{DoxyParamCaption}\item[{\textbf{ Map} $\ast$}]{map,  }\item[{const string \&}]{config\+Persons\+File\+Name,  }\item[{const string \&}]{config\+Antennas\+File\+Name,  }\item[{const string \&}]{config\+Simulation\+File\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

Builds a new \doxyref{World}{p.}{class_world} object, reading the parameters for the Persons, Antennas and Mobile phone from configuration files. The configuration files are in X\+ML format and they should be provided as command line parameters. The general parameters of the simulation (duration, how people move around the map, how mobile phone try to connect to antennas etc are also read from a configuration file 
\begin{DoxyParams}{Parameters}
{\em map} & a pointer to a \doxyref{Map}{p.}{class_map} object where the simulation takes place \\
\hline
{\em config\+Persons\+File\+Name} & the configuration file name for the persons object \\
\hline
{\em config\+Antennas\+File\+Name} & the configuration file name for antenna objects \\
\hline
{\em config\+Simulation\+File\+Name} & the general configuration file for simulation \\
\hline
\end{DoxyParams}
\mbox{\label{class_world_a9ce9875f5e35e293661857e4a2c1d2e4}} 
\index{World@{World}!````~World@{$\sim$World}}
\index{````~World@{$\sim$World}!World@{World}}
\subsubsection{$\sim$World()}
{\footnotesize\ttfamily virtual World\+::$\sim$\+World (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}

Destructor It releases the memory allocated for the agents collection and the the \doxyref{Clock}{p.}{class_clock} object. 

\subsection{Member Function Documentation}
\mbox{\label{class_world_adbd58c8093be1ac349d929d9a4bc2ab0}} 
\index{World@{World}!generateAntennas@{generateAntennas}}
\index{generateAntennas@{generateAntennas}!World@{World}}
\subsubsection{generateAntennas()}
{\footnotesize\ttfamily vector$<$\textbf{ Antenna}$\ast$$>$ World\+::generate\+Antennas (\begin{DoxyParamCaption}\item[{unsigned long}]{num\+Antennas }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\label{class_world_a9ba6bd08d85c5f610ea30bf4f74b925d}} 
\index{World@{World}!generateMobilePhones@{generateMobilePhones}}
\index{generateMobilePhones@{generateMobilePhones}!World@{World}}
\subsubsection{generateMobilePhones()}
{\footnotesize\ttfamily vector$<$\textbf{ Mobile\+Phone}$\ast$$>$ World\+::generate\+Mobile\+Phones (\begin{DoxyParamCaption}\item[{int}]{num\+Mobile\+Phones,  }\item[{\textbf{ Holdable\+Agent\+::\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+T\+Y\+PE}}]{conn\+Type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\label{class_world_a74542d55508e9e06b818d87dc70315ef}} 
\index{World@{World}!generatePopulation@{generatePopulation}}
\index{generatePopulation@{generatePopulation}!World@{World}}
\subsubsection{generatePopulation()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily vector$<$\textbf{ Person}$\ast$$>$ World\+::generate\+Population (\begin{DoxyParamCaption}\item[{unsigned long}]{num\+Persons }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\label{class_world_aba41835e3315f1ed988550b35491cd6c}} 
\index{World@{World}!generatePopulation@{generatePopulation}}
\index{generatePopulation@{generatePopulation}!World@{World}}
\subsubsection{generatePopulation()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily vector$<$\textbf{ Person}$\ast$$>$ World\+::generate\+Population (\begin{DoxyParamCaption}\item[{unsigned long}]{num\+Persons,  }\item[{vector$<$ double $>$}]{params,  }\item[{\textbf{ Person\+::\+Age\+Distributions}}]{age\+\_\+distribution,  }\item[{double}]{male\+\_\+share,  }\item[{double}]{prob\+\_\+mobile\+\_\+phone,  }\item[{double}]{speed\+\_\+walk,  }\item[{double}]{speed\+\_\+car }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\label{class_world_a8cf8a54ae1f3cb61efeba2b3acebb7cc}} 
\index{World@{World}!getAgents@{getAgents}}
\index{getAgents@{getAgents}!World@{World}}
\subsubsection{getAgents()}
{\footnotesize\ttfamily \textbf{ Agents\+Collection}$\ast$ World\+::get\+Agents (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns the \doxyref{Agents\+Collection}{p.}{class_agents_collection} used in simulation \begin{DoxyReturn}{Returns}
a pointer to \doxyref{Agents\+Collection}{p.}{class_agents_collection} object 
\end{DoxyReturn}
\mbox{\label{class_world_a79423d285338cbe0ea501369e93e78b4}} 
\index{World@{World}!getClock@{getClock}}
\index{getClock@{getClock}!World@{World}}
\subsubsection{getClock()}
{\footnotesize\ttfamily \textbf{ Clock}$\ast$ World\+::get\+Clock (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns a pointer to a \doxyref{Clock}{p.}{class_clock} object used for simulation \begin{DoxyReturn}{Returns}
a pointer to a \doxyref{Clock}{p.}{class_clock} object used for simulation 
\end{DoxyReturn}
\mbox{\label{class_world_ad7f53015f3691eca555a3696f6b78340}} 
\index{World@{World}!getMap@{getMap}}
\index{getMap@{getMap}!World@{World}}
\subsubsection{getMap()}
{\footnotesize\ttfamily \textbf{ Map}$\ast$ World\+::get\+Map (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Returns a pointer to a \doxyref{Map}{p.}{class_map} object where the simulation takes place \begin{DoxyReturn}{Returns}
a pointer to a \doxyref{Map}{p.}{class_map} object where the simulation takes place 
\end{DoxyReturn}
\mbox{\label{class_world_a6df7f00a25e28e6dda5f849f22069ed5}} 
\index{World@{World}!parseAntennas@{parseAntennas}}
\index{parseAntennas@{parseAntennas}!World@{World}}
\subsubsection{parseAntennas()}
{\footnotesize\ttfamily vector$<$\textbf{ Antenna}$\ast$$>$ World\+::parse\+Antennas (\begin{DoxyParamCaption}\item[{const string \&}]{config\+Antennas\+File }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [noexcept]}}

\mbox{\label{class_world_a298aa9f7e15a75b88eeebc2858aea9ca}} 
\index{World@{World}!parsePersons@{parsePersons}}
\index{parsePersons@{parsePersons}!World@{World}}
\subsubsection{parsePersons()}
{\footnotesize\ttfamily vector$<$\textbf{ Person}$\ast$$>$ World\+::parse\+Persons (\begin{DoxyParamCaption}\item[{const string \&}]{persons\+File\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [noexcept]}}

\mbox{\label{class_world_a7f00dc79cc98281dbf7c51fb2c83e8d6}} 
\index{World@{World}!parseSimulationFile@{parseSimulationFile}}
\index{parseSimulationFile@{parseSimulationFile}!World@{World}}
\subsubsection{parseSimulationFile()}
{\footnotesize\ttfamily void World\+::parse\+Simulation\+File (\begin{DoxyParamCaption}\item[{const string \&}]{config\+Simulation\+File\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [noexcept]}}

\mbox{\label{class_world_af8d69e177beec5a9cf3c200f292db7db}} 
\index{World@{World}!runSimulation@{runSimulation}}
\index{runSimulation@{runSimulation}!World@{World}}
\subsubsection{runSimulation()}
{\footnotesize\ttfamily void World\+::run\+Simulation (\begin{DoxyParamCaption}\item[{string \&}]{persons\+File,  }\item[{string \&}]{antennas\+File }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [noexcept]}}

This method is called to perform the actual simulation. During the simulation it outputs the exact positions of all persons in a csv file and the positions of antennas at the starting time of the simulation. A simulation means a number of time steps, at each step every person move to another position and after arriving at their new position the mobile phones that they carry try to connect to one of the available antennas. 
\begin{DoxyParams}{Parameters}
{\em persons\+File} & the name of the file where the exact positions of the persons are saved \\
\hline
{\em antennas\+File} & the name of the file where the exact positions of antennas are saved \\
\hline
\end{DoxyParams}
\mbox{\label{class_world_afa8e5c2943c72aa664590abbb024896b}} 
\index{World@{World}!setAgents@{setAgents}}
\index{setAgents@{setAgents}!World@{World}}
\subsubsection{setAgents()}
{\footnotesize\ttfamily void World\+::set\+Agents (\begin{DoxyParamCaption}\item[{\textbf{ Agents\+Collection} $\ast$}]{agents }\end{DoxyParamCaption})}

Sets the \doxyref{Agents\+Collection}{p.}{class_agents_collection} to be used for simulation 
\begin{DoxyParams}{Parameters}
{\em agents} & a pointer to \doxyref{Agents\+Collection}{p.}{class_agents_collection} object \\
\hline
\end{DoxyParams}
\mbox{\label{class_world_a52ebe3eed240fe4dd37915a1dad02efd}} 
\index{World@{World}!setClock@{setClock}}
\index{setClock@{setClock}!World@{World}}
\subsubsection{setClock()}
{\footnotesize\ttfamily void World\+::set\+Clock (\begin{DoxyParamCaption}\item[{\textbf{ Clock} $\ast$}]{clock }\end{DoxyParamCaption})}

Sets the \doxyref{Clock}{p.}{class_clock} of the simulation 
\begin{DoxyParams}{Parameters}
{\em clock} & a pointer to a \doxyref{Clock}{p.}{class_clock} object used for simulation \\
\hline
\end{DoxyParams}
\mbox{\label{class_world_a9dc80487d5c2d1d4f2af0c1d7f015204}} 
\index{World@{World}!setMap@{setMap}}
\index{setMap@{setMap}!World@{World}}
\subsubsection{setMap()}
{\footnotesize\ttfamily void World\+::set\+Map (\begin{DoxyParamCaption}\item[{\textbf{ Map} $\ast$}]{map }\end{DoxyParamCaption})}

Sets the map where the simulation takes place 
\begin{DoxyParams}{Parameters}
{\em map} & a pointer to a \doxyref{Map}{p.}{class_map} object where the simulation takes place \\
\hline
\end{DoxyParams}


\subsection{Member Data Documentation}
\mbox{\label{class_world_ae1262689381f00828c0a639b7cbb52a3}} 
\index{World@{World}!m\_agentsCollection@{m\_agentsCollection}}
\index{m\_agentsCollection@{m\_agentsCollection}!World@{World}}
\subsubsection{m\_agentsCollection}
{\footnotesize\ttfamily \textbf{ Agents\+Collection}$\ast$ World\+::m\+\_\+agents\+Collection\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 116 of file World.\+h.

\mbox{\label{class_world_a8359eb424f01e41703faa0885a4414bf}} 
\index{World@{World}!m\_clock@{m\_clock}}
\index{m\_clock@{m\_clock}!World@{World}}
\subsubsection{m\_clock}
{\footnotesize\ttfamily \textbf{ Clock}$\ast$ World\+::m\+\_\+clock\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 117 of file World.\+h.

\mbox{\label{class_world_afeac65cddcd1e1c4fa14a17efa35be06}} 
\index{World@{World}!m\_connType@{m\_connType}}
\index{m\_connType@{m\_connType}!World@{World}}
\subsubsection{m\_connType}
{\footnotesize\ttfamily \textbf{ Holdable\+Agent\+::\+C\+O\+N\+N\+E\+C\+T\+I\+O\+N\+\_\+\+T\+Y\+PE} World\+::m\+\_\+conn\+Type\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 122 of file World.\+h.

\mbox{\label{class_world_ab6b8ad11e4031f3072a78f00a66e9ec5}} 
\index{World@{World}!m\_endTime@{m\_endTime}}
\index{m\_endTime@{m\_endTime}!World@{World}}
\subsubsection{m\_endTime}
{\footnotesize\ttfamily unsigned long World\+::m\+\_\+end\+Time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 119 of file World.\+h.

\mbox{\label{class_world_ae1e6f62c5b282e94ffdcaab58fcb3fb4}} 
\index{World@{World}!m\_map@{m\_map}}
\index{m\_map@{m\_map}!World@{World}}
\subsubsection{m\_map}
{\footnotesize\ttfamily \textbf{ Map}$\ast$ World\+::m\+\_\+map\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 114 of file World.\+h.

\mbox{\label{class_world_a9fcf012ce7262edf5646f0720ffd7666}} 
\index{World@{World}!m\_mvType@{m\_mvType}}
\index{m\_mvType@{m\_mvType}!World@{World}}
\subsubsection{m\_mvType}
{\footnotesize\ttfamily \textbf{ Movement\+Type} World\+::m\+\_\+mv\+Type\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 123 of file World.\+h.

\mbox{\label{class_world_a5b46814e7da7222730be62154bf10008}} 
\index{World@{World}!m\_startTime@{m\_startTime}}
\index{m\_startTime@{m\_startTime}!World@{World}}
\subsubsection{m\_startTime}
{\footnotesize\ttfamily unsigned long World\+::m\+\_\+start\+Time\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 118 of file World.\+h.

\mbox{\label{class_world_a97f773548fef49eb408115c097aa995d}} 
\index{World@{World}!m\_timeIncrement@{m\_timeIncrement}}
\index{m\_timeIncrement@{m\_timeIncrement}!World@{World}}
\subsubsection{m\_timeIncrement}
{\footnotesize\ttfamily unsigned long World\+::m\+\_\+time\+Increment\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 120 of file World.\+h.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
include/\textbf{ World.\+h}\end{DoxyCompactItemize}
